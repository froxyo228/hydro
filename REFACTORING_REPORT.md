# üîß –û—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ HydroSim 2.0

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ **1. –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–≤**
- **–ü—Ä–æ–±–ª–µ–º–∞**: GameManager –¥—É–±–ª–∏—Ä–æ–≤–∞–ª—Å—è –≤ AutoLoad –∏ main.tscn
- **–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω GameManager –∏–∑ main.tscn, –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –≤ AutoLoad
- **–§–∞–π–ª—ã**: `scenes/main.tscn`, `project.godot`

### ‚úÖ **2. –†–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–æ–≤**

#### –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
scripts/
‚îú‚îÄ‚îÄ core/                    # –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ GameManager.gd      # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ ConfigManager.gd    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ MaterialSystem.gd   # –°–∏—Å—Ç–µ–º–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
‚îú‚îÄ‚îÄ systems/                 # –ò–≥—Ä–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ EconomicSystem.gd   # –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îú‚îÄ‚îÄ RiverSystem.gd      # –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ WeatherSystem.gd    # –°–∏—Å—Ç–µ–º–∞ –ø–æ–≥–æ–¥—ã
‚îÇ   ‚îî‚îÄ‚îÄ SaveSystem.gd       # –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ ui/                     # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ AdvancedHUD.gd     # –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π HUD
‚îú‚îÄ‚îÄ build/                  # –°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
‚îÇ   ‚îú‚îÄ‚îÄ BuildController.gd  # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞
‚îÇ   ‚îî‚îÄ‚îÄ DamPreview.gd      # –ü—Ä–µ–≤—å—é –ø–ª–æ—Ç–∏–Ω—ã
‚îú‚îÄ‚îÄ world/                  # –ú–∏—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ GeoData.gd         # –ì–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ debug/                  # –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
    ‚îî‚îÄ‚îÄ SystemDiagnostics.gd
```

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—É—Ç–∏ –≤ project.godot:
- `GameManager`: `res://scripts/core/GameManager.gd`
- `ConfigManager`: `res://scripts/core/ConfigManager.gd`
- `MaterialSystem`: `res://scripts/core/MaterialSystem.gd`

### ‚úÖ **3. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**

#### HUD ‚Üí GameManager:
```gdscript
# –í AdvancedHUD.gd
signal survey_requested
signal build_requested(material: int)
signal material_selected(material_type: int)

# –í GameManager.gd
func _on_survey_requested():
    start_survey()

func _on_build_requested(material: int):
    if build_controller:
        build_controller.start_preview(material)
```

#### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- **–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å**: HUD –Ω–µ –∑–Ω–∞–µ—Ç –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –ª–æ–≥–∏–∫–µ GameManager
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –∏–∑–º–µ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É –±–µ–∑ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–Ω–∏—è UI
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### ‚úÖ **4. –ï–¥–∏–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ç–µ–≥–∞–º–∏**

#### –°–∏—Å—Ç–µ–º–∞ —Ç–µ–≥–æ–≤:
- `[BUILD]` - —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –ø–ª–æ—Ç–∏–Ω
- `[SURVEY]` - –≥–µ–æ—Ä–∞–∑–≤–µ–¥–∫–∞  
- `[STATE]` - –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
- `[RESOURCE]` - —ç–∫–æ–Ω–æ–º–∏–∫–∞ –∏ —Ä–µ—Å—É—Ä—Å—ã
- `[SYSTEM]` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º
- `[UI]` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `[SAVE]` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞
- `[WEATHER]` - –ø–æ–≥–æ–¥–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### –ü—Ä–∏–º–µ—Ä—ã:
```gdscript
print("[BUILD] –ü–ª–æ—Ç–∏–Ω–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –≤ –∑–æ–Ω–µ %s" % zone_id)
print("[SURVEY] –ì–µ–æ—Ä–∞–∑–≤–µ–¥–∫–∞ –Ω–∞—á–∞—Ç–∞")
print("[STATE] –°–æ—Å—Ç–æ—è–Ω–∏–µ -> %s" % GameState.keys()[new_state])
print("[RESOURCE] –ü–æ—Ç—Ä–∞—á–µ–Ω–æ: %d, –æ—Å—Ç–∞–ª–æ—Å—å: %d" % [amount, money])
```

### ‚úÖ **5. –£–ª—É—á—à–µ–Ω–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏**

#### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
- –í—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π —á–µ—Ä–µ–∑ `GameManager.change_state()`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ enum GameState

#### –£–ª—É—á—à–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≥–µ–æ—Ä–∞–∑–≤–µ–¥–∫–∏:
```gdscript
func start_survey() -> bool:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å—Ä–µ–¥—Å—Ç–≤
    # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥–µ–æ—Ä–∞–∑–≤–µ–¥–∫–∏ –≤—Å–µ—Ö –∑–æ–Ω
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    await get_tree().create_timer(2.0).timeout
    change_state(GameState.PLANNING)
```

### ‚úÖ **6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤**

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ –≤—Å–µ–º –∫–ª—é—á–µ–≤—ã–º –º–µ—Ç–æ–¥–∞–º:
```gdscript
## –ù–∞—á–∞—Ç—å –≥–µ–æ—Ä–∞–∑–≤–µ–¥–∫—É: —Å–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏, –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –∏–≥—Ä—É –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ SURVEYING
## @return bool ‚Äî —É—Å–ø–µ—à–Ω–æ –ª–∏ –Ω–∞—á–∞—Ç–∞ —Ä–∞–∑–≤–µ–¥–∫–∞
func start_survey() -> bool:

## –ü–æ—Ç—Ä–∞—Ç–∏—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É
## @param amount - —Å—É–º–º–∞ –∫ —Å–ø–∏—Å–∞–Ω–∏—é  
## @return bool - —É—Å–ø–µ—à–Ω–æ –ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—è
func spend_money(amount: int) -> bool:
```

### ‚úÖ **7. –£–ª—É—á—à–µ–Ω–∏–µ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**

#### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π .gitignore:
- –ò—Å–∫–ª—é—á–µ–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã Godot
- –î–æ–±–∞–≤–ª–µ–Ω—ã OS-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ò—Å–∫–ª—é—á–µ–Ω—ã IDE —Ñ–∞–π–ª—ã –∏ –ª–æ–≥–∏

#### CONTRIBUTING.md:
- –°—Ç–∏–ª—å –∫–æ–º–º–∏—Ç-—Å–æ–æ–±—â–µ–Ω–∏–π (Conventional Commits)
- –ü—Ä–æ—Ü–µ—Å—Å –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## üéØ **–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

### üèóÔ∏è **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ**
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **–°–ª–∞–±–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–∏—Å—Ç–µ–º—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

### üîç **–û—Ç–ª–∞–¥–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞**
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏**: –õ–µ–≥–∫–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–∏–ø–∞–º —Å–æ–±—ã—Ç–∏–π
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥**: –ü–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—É–±–ª–∏—á–Ω—ã–º –º–µ—Ç–æ–¥–∞–º
- **–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### üë• **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è**: –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã
- **–ü—Ä–æ—Ü–µ—Å—Å –∫–æ–Ω—Ç—Ä–∏–±—É—Ü–∏–π**: –ß–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —É—á–∞—Å—Ç–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
- **–ß–∏—Å—Ç–∞—è –∏—Å—Ç–æ—Ä–∏—è**: –û—Å–º—ã—Å–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç-—Å–æ–æ–±—â–µ–Ω–∏—è

## üöÄ **–†–µ–∑—É–ª—å—Ç–∞—Ç**

–ü—Ä–æ–µ–∫—Ç HydroSim 2.0 —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç:
- ‚úÖ –ß–∏—Å—Ç—É—é, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- ‚úÖ –ï–¥–∏–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—É—é –æ—Ç–ª–∞–¥–∫—É –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–±–µ–∑ breaking changes)

**–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –≥–µ–π–º–ø–ª–µ–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è–º–∏!**

---

*–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω —Å–æ–≥–ª–∞—Å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º Claude –ø–æ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Godot-–∏–≥—Ä.*
